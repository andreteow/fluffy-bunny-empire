import React from 'react';
import { Upgrade } from '@/context/types';
import { Carrot, Brain, Bot, TrendingUp, Video, Gem, Dna, Rabbit } from 'lucide-react';

export const upgradesData: Upgrade[] = [
  // Feeding Efficiency Upgrades
  {
    id: 'bunny-enthusiasm',
    name: 'Bunny Enthusiasm',
    description: 'Bunnies get extra excited when fed!',
    effect: '+1 feed per click',
    cost: 50,
    icon: <Rabbit className="h-5 w-5" />,
    category: 'efficiency',
    isAvailable: (state) => state.bunnies >= 5 && !state.unlockedUpgrades.includes('bunny-enthusiasm'),
    effectFn: () => {},
    requiredBunnies: 5,
  },
  {
    id: 'bunny-training',
    name: 'Bunny Training',
    description: 'Rabbits learn to eat faster.',
    effect: '+2 feeds per click',
    cost: 250,
    icon: <Rabbit className="h-5 w-5" />,
    category: 'efficiency',
    isAvailable: (state) => state.bunnies >= 20 && state.unlockedUpgrades.includes('bunny-enthusiasm'),
    effectFn: () => {},
    requiredBunnies: 20,
    requiredUpgrade: 'bunny-enthusiasm',
  },
  {
    id: 'mega-carrots',
    name: 'Mega Carrots',
    description: 'Super-sized carrots provide more nutrition.',
    effect: '+5 feeds per click',
    cost: 1000,
    icon: <Carrot className="h-5 w-5" />,
    category: 'efficiency',
    isAvailable: (state) => state.bunnies >= 50 && state.unlockedUpgrades.includes('bunny-training'),
    effectFn: () => {},
    requiredBunnies: 50,
    requiredUpgrade: 'bunny-training',
  },
  {
    id: 'golden-carrots',
    name: 'Golden Carrots',
    description: 'Rare, high-energy carrots increase feeding efficiency.',
    effect: '+10 feeds per click',
    cost: 5000,
    icon: <Gem className="h-5 w-5" />,
    category: 'efficiency',
    isAvailable: (state) => state.bunnies >= 200 && state.unlockedUpgrades.includes('mega-carrots'),
    effectFn: () => {},
    requiredBunnies: 200,
    requiredUpgrade: 'mega-carrots',
  },
  {
    id: 'hyperspeed-nibbling',
    name: 'Hyperspeed Nibbling',
    description: 'Bunnies develop ultra-fast chewing.',
    effect: '+20 feeds per click',
    cost: 25000,
    icon: <Rabbit className="h-5 w-5" />,
    category: 'efficiency',
    isAvailable: (state) => state.bunnies >= 500 && state.unlockedUpgrades.includes('golden-carrots'),
    effectFn: () => {},
    requiredBunnies: 500,
    requiredUpgrade: 'golden-carrots',
  },
  
  // Automation Upgrades
  {
    id: 'carrot-farming',
    name: 'Carrot Farming',
    description: 'Bunnies learn to grow their own carrots.',
    effect: '+1 auto feed per second',
    cost: 100,
    icon: <Carrot className="h-5 w-5" />,
    category: 'automation',
    isAvailable: (state) => state.bunnies >= 10 && !state.unlockedUpgrades.includes('carrot-farming'),
    effectFn: () => {},
    requiredBunnies: 10,
  },
  {
    id: 'smart-bunnies',
    name: 'Smart Bunnies',
    description: 'Bunnies develop higher intelligence.',
    effect: '+2 auto feeds per second',
    cost: 500,
    icon: <Brain className="h-5 w-5" />,
    category: 'automation',
    isAvailable: (state) => state.bunnies >= 50 && state.autoFeedRate >= 1 && state.unlockedUpgrades.includes('carrot-farming'),
    effectFn: () => {},
    requiredBunnies: 50,
    requiredAutoFeedRate: 1,
    requiredUpgrade: 'carrot-farming',
  },
  {
    id: 'bunny-cooperation',
    name: 'Bunny Cooperation',
    description: 'Rabbits work together to feed each other.',
    effect: '+5 auto feeds per second',
    cost: 2000,
    icon: <Rabbit className="h-5 w-5" />,
    category: 'automation',
    isAvailable: (state) => state.bunnies >= 100 && state.autoFeedRate >= 3 && state.unlockedUpgrades.includes('smart-bunnies'),
    effectFn: () => {},
    requiredBunnies: 100,
    requiredAutoFeedRate: 3,
    requiredUpgrade: 'smart-bunnies',
  },
  {
    id: 'robo-feeders',
    name: 'Robo-Feeders',
    description: 'Automated feeding machines.',
    effect: '+10 auto feeds per second',
    cost: 10000,
    icon: <Bot className="h-5 w-5" />,
    category: 'automation',
    isAvailable: (state) => state.bunnies >= 200 && state.autoFeedRate >= 8 && state.unlockedUpgrades.includes('bunny-cooperation'),
    effectFn: () => {},
    requiredBunnies: 200,
    requiredAutoFeedRate: 8,
    requiredUpgrade: 'bunny-cooperation',
  },
  {
    id: 'carrot-factory',
    name: 'Carrot Factory',
    description: 'Industrial-scale carrot farming begins.',
    effect: '+25 auto feeds per second',
    cost: 50000,
    icon: <Carrot className="h-5 w-5" />,
    category: 'automation',
    isAvailable: (state) => state.bunnies >= 500 && state.autoFeedRate >= 18 && state.unlockedUpgrades.includes('robo-feeders'),
    effectFn: () => {},
    requiredBunnies: 500,
    requiredAutoFeedRate: 18,
    requiredUpgrade: 'robo-feeders',
  },
  {
    id: 'bunny-ai',
    name: 'Bunny AI',
    description: 'AI-driven carrot distribution system optimizes feeding.',
    effect: '+50 auto feeds per second',
    cost: 250000,
    icon: <Brain className="h-5 w-5" />,
    category: 'automation',
    isAvailable: (state) => state.bunnies >= 1000 && state.autoFeedRate >= 43 && state.unlockedUpgrades.includes('carrot-factory'),
    effectFn: () => {},
    requiredBunnies: 1000,
    requiredAutoFeedRate: 43,
    requiredUpgrade: 'carrot-factory',
  },
  {
    id: 'self-sustaining-bunnies',
    name: 'Self-Sustaining Bunnies',
    description: 'Rabbits achieve total independence.',
    effect: '+100 auto feeds per second',
    cost: 1000000,
    icon: <Rabbit className="h-5 w-5" />,
    category: 'automation',
    isAvailable: (state) => state.bunnies >= 5000 && state.autoFeedRate >= 93 && state.unlockedUpgrades.includes('bunny-ai'),
    effectFn: () => {},
    requiredBunnies: 5000,
    requiredAutoFeedRate: 93,
    requiredUpgrade: 'bunny-ai',
  },
  
  // Market Demand Modifiers
  {
    id: 'cuteness-training',
    name: 'Cuteness Training',
    description: 'Rabbits learn to be even more adorable, increasing their value.',
    effect: '+10% to all rabbit sale prices',
    cost: 5000,
    icon: <Rabbit className="h-5 w-5" />,
    category: 'market',
    isAvailable: (state) => state.bunnies >= 100 && !state.unlockedUpgrades.includes('cuteness-training'),
    effectFn: () => {},
    requiredBunnies: 100,
  },
  {
    id: 'viral-bunny-videos',
    name: 'Viral Bunny Videos',
    description: 'Internet discovers the bunnies, increasing demand.',
    effect: 'Market demand increase lasts twice as long',
    cost: 20000,
    icon: <Video className="h-5 w-5" />,
    category: 'market',
    isAvailable: (state) => state.bunnies >= 250 && state.unlockedUpgrades.includes('cuteness-training'),
    effectFn: () => {},
    requiredBunnies: 250,
    requiredUpgrade: 'cuteness-training',
  },
  {
    id: 'luxury-pet-shops',
    name: 'Luxury Pet Shops',
    description: 'Some rabbits get sold as exclusive premium pets.',
    effect: 'High-value rabbits appear 15% of the time instead of 10%',
    cost: 100000,
    icon: <Gem className="h-5 w-5" />,
    category: 'market',
    isAvailable: (state) => state.bunnies >= 500 && state.unlockedUpgrades.includes('viral-bunny-videos'),
    effectFn: () => {},
    requiredBunnies: 500,
    requiredUpgrade: 'viral-bunny-videos',
  },
  {
    id: 'global-bunny-craze',
    name: 'Global Bunny Craze',
    description: 'Rabbits become a worldwide sensation.',
    effect: 'High demand occurs 20% of the time instead of 10%',
    cost: 500000,
    icon: <TrendingUp className="h-5 w-5" />,
    category: 'market',
    isAvailable: (state) => state.bunnies >= 1000 && state.unlockedUpgrades.includes('luxury-pet-shops'),
    effectFn: () => {},
    requiredBunnies: 1000,
    requiredUpgrade: 'luxury-pet-shops',
  },
  {
    id: 'rabbit-reality-show',
    name: 'Rabbit Reality Show',
    description: 'A famous bunny-themed TV show drives demand.',
    effect: 'Mid and high-value rabbits get a 1.5x price multiplier',
    cost: 2500000,
    icon: <Video className="h-5 w-5" />,
    category: 'market',
    isAvailable: (state) => state.bunnies >= 5000 && state.unlockedUpgrades.includes('global-bunny-craze'),
    effectFn: () => {},
    requiredBunnies: 5000,
    requiredUpgrade: 'global-bunny-craze',
  },
  
  // Bunny Rarity Upgrades
  {
    id: 'selective-breeding',
    name: 'Selective Breeding',
    description: 'Bunnies develop better genetics.',
    effect: 'Mid-value rabbits now appear 40% of the time instead of 30%',
    cost: 50000,
    icon: <Dna className="h-5 w-5" />,
    category: 'rarity',
    isAvailable: (state) => state.bunnies >= 300 && !state.unlockedUpgrades.includes('selective-breeding'),
    effectFn: () => {},
    requiredBunnies: 300,
  },
  {
    id: 'designer-rabbits',
    name: 'Designer Rabbits',
    description: 'Genetic modifications make ultra-premium rabbits.',
    effect: 'High-value rabbits now appear 20% of the time',
    cost: 250000,
    icon: <Dna className="h-5 w-5" />,
    category: 'rarity',
    isAvailable: (state) => state.bunnies >= 1000 && state.unlockedUpgrades.includes('selective-breeding'),
    effectFn: () => {},
    requiredBunnies: 1000,
    requiredUpgrade: 'selective-breeding',
  },
  {
    id: 'cybernetic-bunnies',
    name: 'Cybernetic Bunnies',
    description: 'Advanced cybernetic enhancements create super rabbits.',
    effect: 'High-value rabbits always sell at 2x price',
    cost: 1000000,
    icon: <Bot className="h-5 w-5" />,
    category: 'rarity',
    isAvailable: (state) => state.bunnies >= 10000 && state.unlockedUpgrades.includes('designer-rabbits'),
    effectFn: () => {},
    requiredBunnies: 10000,
    requiredUpgrade: 'designer-rabbits',
  },
];

// Helper function to get upgrades by category
export const getUpgradesByCategory = (category: 'efficiency' | 'automation' | 'market' | 'rarity') => {
  return upgradesData.filter(upgrade => upgrade.category === category);
};

// Helper function to get the next upgrade in a category based on current unlocked upgrades
export const getNextUpgradesInCategory = (category: 'efficiency' | 'automation' | 'market' | 'rarity', unlockedUpgrades: string[]) => {
  const categoryUpgrades = getUpgradesByCategory(category);
  return categoryUpgrades.filter(upgrade => !unlockedUpgrades.includes(upgrade.id));
};
